## 레시피 b-01-iii Ehcache로 캐싱 구현하기 - Spring 6.x + Ehcache 3.x

> ...

### 이번 레시피에서 확인해야할  내용

* ✖️ **b-01-i**:  캐싱이 필요한 예제 준비 - Spring 5 예제와 동일해서 추가하지 않음.

* ✔ **b-01-ii**:  스프링 없이 Ehcache 적용 

* ✅ **b-01-iii**:  스프링으로 Ehcache 사용

* ⬜ ...

  



## 진행

스프링을 사용해서 Ehcache를 설정을 하긴 하는데... 스프링 캐시 설정을 쓰는 것은 아니고, 어플리케이션 컨텍스트에 빈등록 하는 식으로 간단하게 쓰는 방식의 예제




## 의견

* 먼저 예제에서 해봤던 main() 메서드의 전체 실행시간을 재는 코드는 제거했다.
  * 의미가 없음.. 의미가 있게 하려면 반복 호출하는 부분만 메서드로 분리해서 그 메서드의 호출시간을 재야함.


그래서 Main 클래스 자체를 Spring Boot 메인 클래스 처럼 만들고, run() 메서드 안에 반복 연산 로직이 들어가게 코드를 바꿨음.

```java
  @Timeout(value = 550, unit = TimeUnit.MILLISECONDS)
  @Test
  void testMain() {
    app.run();
  }
```

그 후에는 연산 메서드에 지연 설정한 최소 시간 만큼 타임아웃을 줄일 수 있었다.



### 💡 Spring 6.x + Ehcache 3.x 변경 관련 사항

이번 예제가 스프링의 캐시 설정을 본격적으로 활용하는 것은 아니고, CacheManger를 그냥 빈으로만 정의해서 사용하는 것이여서, 변경에 크게 어려움은 없었다. 😅

* Spring 6으로 버전업 관련해서 Depreacted나 제거된 메서드 들은 없었음.




---

## 기타

* ...

  

## 정오표

* ...
  


---

## JavaDocs

* ...



---

### 문서 사용 아이콘

* ✅: Current Done
* ✔: Done
* ⬜: TODO
* ✖️: Skip
* ...

