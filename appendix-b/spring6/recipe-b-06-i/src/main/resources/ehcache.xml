<config
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xmlns='http://www.ehcache.org/v3'
    xsi:schemaLocation="http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core.xsd">

  <cache-template name="defaultsCache">
    <expiry>
      <ttl>120</ttl>
    </expiry>
    <resources>
      <!--
        ðŸ’¡ DEPRECATED: The use of memory units (such as 'B', 'kB' or 'MB') for heap resources is deprecated and will be removed in a future version.
           heap ì—˜ë¦¬ë¨¼íŠ¸ ìžì²´ê°€ íê¸° ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , B, kB ë˜ëŠ” MB ë“±ì˜ ë©”ëª¨ë¦¬ ë‹¨ìœ„ê°€ íê¸° ëœë‹¤ê³ í•¨.
           entriesë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¬¸ì œê°€ ì—†ìŒ.
       -->
      <heap unit="entries">1000</heap>
    </resources>
  </cache-template>
  <cache alias="customers" uses-template="defaultsCache">    
    <!--
      ðŸ’¡ìºì‹œ ëŒ€ìƒ ë©”ì„œë“œê°€ nullì„ ë°˜í™˜í•˜ëŠ” ê²½ìš° Springì—ì„œ NullValueë¼ëŠ” ê²ƒì„ ìºì‹œì— ë„£ëŠ”ë°,
         ehcache ì‚¬ìš©ìž ê°’ íƒ€ìž… ì§€ì •ì‹œ ìºìŠ¤íŒ… ì˜¤ë¥˜ê°€ ë‚œë‹¤. 
         ì´ë ¨ ê²½ìš°ëŠ” value-typeì„ Objectë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ë‚˜ì„ ê²ƒ ê°™ë‹¤. (ê¸°ë³¸ê°’ì´ Objectì´ë‹¤.)
      <value-type>org.fp024.study.spring5recipes.caching.domain.Customer</value-type> 
    -->    
    <expiry>
      <class>org.fp024.study.spring5recipes.caching.config.ehcache.CacheExpiry</class>
    </expiry>
    <resources>
      <heap unit="entries">100</heap>
    </resources>
  </cache>
</config>
    <!--
    <ehcache>
      <diskStore path="java.io.tmpdir" />

      <defaultCache
        maxElementsInMemory="1000"
        eternal="false"
        timeToIdleSeconds="120"
        timeToLiveSeconds="120"
        overflowToDisk="true"
      />

      <cache name="calculations"
        maxElementsInMemory="100"
        eternal="false"
        timeToIdleSeconds="600"
        timeToLiveSeconds="3600"
        overflowToDisk="true"
      />

    </ehcache>
    -->

    <!--
      ðŸ’¡ overflowToDisk í•­ëª©ì´ ì—†ì–´ì§, ê³„ì¸µí˜• ëª¨ë¸ë¡œ ë°”ë€œ.
         * https://groups.google.com/g/ehcache-users/c/FFHHhRW5hdg
         * https://stackoverflow.com/questions/23307282/read-cache-data-from-file-system-or-diskpath/23358936#23358936

          Ehcache 3ì—ì„œëŠ” ê³„ì¸µì ì¸ ì €ìž¥ ëª¨ë¸ì„ ì‚¬ìš©í•˜ë©°,
          ëª¨ë“  ë°ì´í„°ëŠ” í•­ìƒ ê°€ìž¥ ë‚®ì€ ê³„ì¸µì— ì¡´ìž¬í•©ë‹ˆë‹¤.
          ë”°ë¼ì„œ Ehcache 3ì—ì„œëŠ” ë””ìŠ¤í¬ì— ë¨¼ì € ë°ì´í„°ë¥¼ ì €ìž¥í•˜ê³ ,
          ìžì£¼ ì ‘ê·¼ë˜ëŠ” ë°ì´í„°ëŠ” íž™ìœ¼ë¡œ ì˜¬ë¼ì˜µë‹ˆë‹¤.
          heap unit="entries" ì„¤ì •ì€ íž™ì— ì˜¬ë¼ì˜¬ ìˆ˜ ìžˆëŠ” ê°ì²´ì˜ ìµœëŒ€ ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
          ì´ëŠ” ìºì‹œì— ì €ìž¥ë  ìˆ˜ ìžˆëŠ” í‚¤-ê°’ ìŒì˜ ìµœëŒ€ ê°œìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.
    -->

    <!--
      ðŸ’¡timeToIdleSeconds í•­ëª©ë„ ì œê±°ë¨.

        timeToLiveSeconds:
          ìºì‹œ í•­ëª©ì´ ìºì‹œì— ì €ìž¥ëœ í›„ë¶€í„° ë§Œë£Œë˜ê¸°ê¹Œì§€ì˜ ìµœëŒ€ ì‹œê°„(ì´ˆ)ì„ ì§€ì •í•©ë‹ˆë‹¤.
          ì´ ì‹œê°„ì´ ì§€ë‚˜ë©´ ìºì‹œ í•­ëª©ì€ ë§Œë£Œë˜ê³  ìºì‹œì—ì„œ ë” ì´ìƒ ë°˜í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        timeToIdleSeconds:
          ìºì‹œ í•­ëª©ì´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì ‘ê·¼ëœ í›„ë¶€í„° ë§Œë£Œë˜ê¸°ê¹Œì§€ì˜ ìµœëŒ€ ì‹œê°„(ì´ˆ)ì„ ì§€ì •í•©ë‹ˆë‹¤.
          ìºì‹œ í•­ëª©ì´ ì´ ì‹œê°„ ë™ì•ˆ ì ‘ê·¼ë˜ì§€ ì•Šìœ¼ë©´ ë§Œë£Œë˜ê³  ìºì‹œì—ì„œ ë” ì´ìƒ ë°˜í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


      timeToIdleSeconds ê°™ì€ ê²½ìš°ëŠ” í´ëž˜ìŠ¤ë¥¼ í™•ìž¥í•´ì„œ ì¶”ê°€í–ˆë‹¤.
        * https://groups.google.com/g/ehcache-users/c/Jo3iIxI3hd8/m/jYMjGr9BBAAJ

        ExpiryPolicy í´ëž˜ìŠ¤ë¥¼ í™•ìž¥í•´ì„œ, ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í•´ì•¼í–ˆë‹¤.
        * org.fp024.study.spring5recipes.caching.ehcache.CacheExpiry
    -->